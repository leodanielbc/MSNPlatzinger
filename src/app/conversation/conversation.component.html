<div id="conversationContainer" [ngClass]="{'shaker': shake}">
  <div class="container pato45">
    <div class="row">
        <div class="col-md-3" *ngIf="friend">
          <div class="avatarFrameonline">
            <img [src]="friend.avatar || 'assets/img/generic_avatar.png'" class="img-fluid">
          </div>

          <div class="whiteContainerPadded marto15">
              <div class="row">
                <div class="col">
                  <input type="text" class="form-control" placeholder="Buscar amigo" [(ngModel)]="query">
                </div>
              </div>
              <hr/>
              <b *ngIf="friends">Amigos ({{friends.length}}/{{friends.length}})</b>
              <!-- en vez de la clase disblo se puede utilizar la clase de bootstrap (d-block)-->
              <div *ngFor="let user of friends | search:query; let i=index" class="disblo marbo5">
                  <span (click)="conversationTofriend(user.uid)">
                    <img class="icon" src="assets/img/logo_live_{{user.status}}.png" alt="status del usuario">
                    <b>{{user.nick}} </b>
                    <!-- <small>{{user.email}}</small> -->
                  </span>
                </div>
            </div>
        </div>


        <div class="col-md-9" *ngIf="friend">
            <div>
                <h1>{{friend.nick}} <small style="font-size: 16px;">({{friend.status}})</small></h1>
                <label fixed><b>Email:</b></label>
                <label>{{friend.email}}</label>
                <br/>
                <label fixed><b>Age:</b></label>
                <label>{{friend.age}}</label>
            </div>
            <hr/>
            <!-- <div class="vh55 overscroll pabo10" id="messageArea">
              <div *ngFor="let m of conversation">
                <div class="col-md-auto">
                  <div *ngIf="getUserNickById(m.sender)==false" class="autor1">
                    <span>{{m.text}}</span>
                    <img *ngIf="m.type=='zumbido'" src="assets/img/zumbido.png" id="zumbido">
                  </div>
                </div>
                <div class="col-md-auto">
                  <div *ngIf="getUserNickById(m.sender)==true" class="autor2">
                    <span>{{m.text}}</span>
                    <img *ngIf="m.type=='zumbido'" src="assets/img/zumbido.png" id="zumbido">
                  </div>
                </div>
              </div>
            </div> -->
            <div id="frame">
            <div class="content">
              <div class="messages">
                <ul *ngFor="let m of conversation">
                  <li class="sent" *ngIf="getUserNickById(m.sender)==true">
                    <img *ngIf="friend.avatar" [src]="friend.avatar" alt="" />
                    <img *ngIf="!friend.avatar" [src]="'assets/img/generic_avatar.png'" alt="" />
                    <p *ngIf="m.text">{{m.text}}</p>
                    <img *ngIf="m.type=='zumbido'" src="assets/img/zumbido.png" id="zumbido">
                  </li>
                  <li class="replies" *ngIf="getUserNickById(m.sender)==false">
                    <img *ngIf="user.avatar" [src]="user.avatar" alt="" />
                    <img *ngIf="!user.avatar" [src]="'assets/img/generic_avatar.png'" alt="" />
                    <p *ngIf="m.text">{{m.text}}</p>
                    <img *ngIf="m.type=='zumbido'" src="assets/img/zumbido.png" id="zumbido">
                  </li>
                </ul>
              </div>
              <div class="message-input">
                <div class="wrap">
                  <input type="text" [(ngModel)]="textMessage" placeholder="Write your message..." />
                  <!-- <div id="messageToolBar">
                    <div class="item" (click)="sendZumbido()">
                      <img src="assets/img/zumbido.png" class="tool">
                    </div>
                  </div> -->
                  <label>
                    <input type="file">
                    <i class="fa fa-paperclip attachment" aria-hidden="true" data-toggle="modal" data-target="#bs-conf-modal-lg"></i>
                  </label>
                  <button class="submit" (click)="sendMessage()"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>

                </div>
              </div>

            <!-- <div class="messageControlsContainer">
              <textarea [(ngModel)]="textMessage" (keyup.enter)="sendMessage()" class="form-control" cols="30" rows="5" ></textarea>
              <div id="messageToolBar">
                <div class="item">
                  <img src="assets/img/icons/regular_smile.gif" class="tool">
                  <i name="caret-down"></i>
                </div>
                <div class="item">
                  <img src="assets/img/icons/wink_smile.gif" class="tool">
                  <i name="caret-down"></i>
                </div>
                <div class="item" (click)="sendZumbido()">
                  <img src="assets/img/zumbido.png" class="tool">
                </div>
                <a class="btn btn-primary btn-sm" accept="image/*">Enviar</a>
                <label class="custom-file-upload">
                  <input type="file">
                  <i name="image"></i> Seleccionar Imagen
                </label>
              </div>
            </div> -->
        </div>
      </div>

    </div>
  </div>
</div>